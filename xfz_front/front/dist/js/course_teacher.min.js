function Teacher(){}Teacher.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{initialFrameHeight:100,serverUrl:"/ueditor/upload/"})},Teacher.prototype.lisentQnloadfileEnvent=function(){var i=this;$("#avatar-btn").change(function(){var n=this.files[0];xfzajax.get({url:"/cms/qntoken/",success:function(e){if(200===e.code){var t=e.data.token,o=(new Date).getTime()+"."+n.name.split(".")[-1],r={fname:o,params:{},mimeType:["image/png","image/jpeg","image/gif","video/x-ms-wmv"]},a={useCdnDomain:!0,retryCount:6,region:qiniu.region.z2};qiniu.upload(n,o,t,r,a).subscribe({next:i.handleFileUploadProgress,error:i.handleFileUploadError,complete:i.handleFileUploadComplete})}}})})},Teacher.prototype.handleFileUploadProgress=function(e){var t=e.total.percent.toFixed(0)+"%";Teacher.progressGroup.show();var o=$(".progress-bar");o.css({width:t}),o.text(t)},Teacher.prototype.handleFileUploadError=function(e){window.messageBox.showError(e.message),$("#progress-group").hide(),console.log(e.message)},Teacher.prototype.handleFileUploadComplete=function(e){console.log(e),$("#progress-group").hide();var t="http://poaqr3qgt.bkt.clouddn.com/"+e.key;$("input[name='teacher-avatar']").val(t)},Teacher.prototype.lisentSubmit=function(){$("#submit-btn").click(function(e){e.preventDefault();var t=$("input[name='teacher-username']").val(),o=$("input[name='teacher-avatar']").val(),r=$("input[name='jobtitle']").val(),a=window.ue.getContent();xfzajax.post({url:"/cms/addcourse_teacher/",data:{username:t,avatar:o,jobtitle:r,profile:a},success:function(e){200===e.code&&xfzalert.alertSuccess("添加讲师成功！",function(){window.location=window.location.href})}})})},Teacher.prototype.run=function(){var e=this;e.initUEditor(),e.lisentQnloadfileEnvent(),e.lisentSubmit()},$(function(){(new Teacher).run(),Teacher.progressGroup=$("#progress-group")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV90ZWFjaGVyLmpzIl0sIm5hbWVzIjpbIlRlYWNoZXIiLCJwcm90b3R5cGUiLCJpbml0VUVkaXRvciIsIndpbmRvdyIsInVlIiwiVUUiLCJnZXRFZGl0b3IiLCJpbml0aWFsRnJhbWVIZWlnaHQiLCJzZXJ2ZXJVcmwiLCJsaXNlbnRRbmxvYWRmaWxlRW52ZW50Iiwic2VsZiIsInRoaXMiLCIkIiwiY2hhbmdlIiwiZmlsZSIsImZpbGVzIiwieGZ6YWpheCIsImdldCIsInVybCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ0b2tlbiIsImtleSIsIkRhdGUiLCJnZXRUaW1lIiwibmFtZSIsInNwbGl0IiwicHV0RXh0cmEiLCJmbmFtZSIsInBhcmFtcyIsIm1pbWVUeXBlIiwiY29uZmlnIiwidXNlQ2RuRG9tYWluIiwicmV0cnlDb3VudCIsInJlZ2lvbiIsInFpbml1IiwiejIiLCJ1cGxvYWQiLCJzdWJzY3JpYmUiLCJuZXh0IiwiaGFuZGxlRmlsZVVwbG9hZFByb2dyZXNzIiwiZXJyb3IiLCJoYW5kbGVGaWxlVXBsb2FkRXJyb3IiLCJjb21wbGV0ZSIsImhhbmRsZUZpbGVVcGxvYWRDb21wbGV0ZSIsInJlc3BvbnNlIiwicGVyY2VudFRleHQiLCJ0b3RhbCIsInBlcmNlbnQiLCJ0b0ZpeGVkIiwicHJvZ3Jlc3NHcm91cCIsInNob3ciLCJwcm9ncmVzc0JhciIsImNzcyIsIndpZHRoIiwidGV4dCIsIm1lc3NhZ2VCb3giLCJzaG93RXJyb3IiLCJtZXNzYWdlIiwiaGlkZSIsImNvbnNvbGUiLCJsb2ciLCJ2YWwiLCJsaXNlbnRTdWJtaXQiLCJjbGljayIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJhdmF0YXIiLCJqb2IiLCJjb250ZW50IiwiZ2V0Q29udGVudCIsInBvc3QiLCJkYXRhIiwidXNlcm5hbWUiLCJqb2J0aXRsZSIsInByb2ZpbGUiLCJ4ZnphbGVydCIsImFsZXJ0U3VjY2VzcyIsImxvY2F0aW9uIiwiaHJlZiIsInJ1biJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsV0FJVEEsUUFBUUMsVUFBVUMsWUFBYSxXQUMzQkMsT0FBT0MsR0FBR0MsR0FBR0MsVUFBVSxTQUFTLENBQzVCQyxtQkFBc0IsSUFDdEJDLFVBQWEsc0JBSXJCUixRQUFRQyxVQUFVUSx1QkFBdUIsV0FDckMsSUFBSUMsRUFBS0MsS0FDT0MsRUFBRSxlQUNOQyxPQUFPLFdBQ2YsSUFBSUMsRUFBS0gsS0FBS0ksTUFBTSxHQUNwQkMsUUFBUUMsSUFBSSxDQUNSQyxJQUFNLGdCQUNOQyxRQUFVLFNBQVVDLEdBQ2hCLEdBQW9CLE1BQWpCQSxFQUFhLEtBQVEsQ0FDcEIsSUFBSUMsRUFBUUQsRUFBYSxLQUFTLE1BRzlCRSxHQUFNLElBQUtDLE1BQVFDLFVBQVksSUFBTVYsRUFBS1csS0FBS0MsTUFBTSxNQUFNLEdBQzNEQyxFQUFXLENBQ1hDLE1BQU9OLEVBQ1BPLE9BQU8sR0FDUEMsU0FBVSxDQUFDLFlBQVksYUFBYSxZQUFZLG1CQUVoREMsRUFBUyxDQUNUQyxjQUFjLEVBQ2RDLFdBQVksRUFDWkMsT0FBUUMsTUFBTUQsT0FBT0UsSUFFUkQsTUFBTUUsT0FBT3ZCLEVBQUtRLEVBQUlELEVBQU1NLEVBQVNJLEdBQzNDTyxVQUFVLENBQ2pCQyxLQUFRN0IsRUFBSzhCLHlCQUNiQyxNQUFTL0IsRUFBS2dDLHNCQUNkQyxTQUFZakMsRUFBS2tDLGtDQVN6QzVDLFFBQVFDLFVBQVV1Qyx5QkFBMkIsU0FBVUssR0FDbkQsSUFFSUMsRUFGUUQsRUFBU0UsTUFDREMsUUFDTUMsUUFBUSxHQUFHLElBRWpCakQsUUFBUWtELGNBQ2RDLE9BQ2QsSUFBSUMsRUFBY3hDLEVBQUUsaUJBQ3BCd0MsRUFBWUMsSUFBSSxDQUFDQyxNQUFRUixJQUN6Qk0sRUFBWUcsS0FBS1QsSUFJckI5QyxRQUFRQyxVQUFVeUMsc0JBQXdCLFNBQVVELEdBQ2hEdEMsT0FBT3FELFdBQVdDLFVBQVVoQixFQUFNaUIsU0FDZDlDLEVBQUUsbUJBQ1IrQyxPQUNkQyxRQUFRQyxJQUFJcEIsRUFBTWlCLFVBR3RCMUQsUUFBUUMsVUFBVTJDLHlCQUEyQixTQUFVQyxHQUNuRGUsUUFBUUMsSUFBSWhCLEdBQ1FqQyxFQUFFLG1CQUNSK0MsT0FFZCxJQUVJekMsRUFGUyxvQ0FDRTJCLEVBQVN2QixJQUVIVixFQUFFLGdDQUNSa0QsSUFBSTVDLElBSXZCbEIsUUFBUUMsVUFBVThELGFBQWEsV0FDYm5ELEVBQUUsZUFDTm9ELE1BQU0sU0FBVUMsR0FDdEJBLEVBQU1DLGlCQUNOLElBQUl6QyxFQUFLYixFQUFFLGtDQUFtQ2tELE1BQzFDSyxFQUFPdkQsRUFBRSxnQ0FBaUNrRCxNQUMxQ00sRUFBSXhELEVBQUUsMEJBQTJCa0QsTUFDakNPLEVBQVFsRSxPQUFPQyxHQUFHa0UsYUFFdEJ0RCxRQUFRdUQsS0FBSyxDQUNUckQsSUFBTSwwQkFDTnNELEtBQU8sQ0FDSEMsU0FBV2hELEVBQ1gwQyxPQUFTQSxFQUNUTyxTQUFXTixFQUNYTyxRQUFVTixHQUVkbEQsUUFBVSxTQUFVQyxHQUNJLE1BQWpCQSxFQUFhLE1BQ1p3RCxTQUFTQyxhQUFhLFVBQVUsV0FDNUIxRSxPQUFPMkUsU0FBUzNFLE9BQU8yRSxTQUFTQyxhQVd4RC9FLFFBQVFDLFVBQVUrRSxJQUFJLFdBQ3BCLElBQUl0RSxFQUFLQyxLQUNURCxFQUFLUixjQUNMUSxFQUFLRCx5QkFDTEMsRUFBS3FELGdCQUdQbkQsRUFBRSxZQUNjLElBQUlaLFNBQ1JnRixNQUNSaEYsUUFBUWtELGNBQWdCdEMsRUFBRSIsImZpbGUiOiJjb3Vyc2VfdGVhY2hlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBUZWFjaGVyKCkge1xyXG5cclxufVxyXG5cclxuVGVhY2hlci5wcm90b3R5cGUuaW5pdFVFZGl0b3IgPWZ1bmN0aW9uKCl7XHJcbiAgICB3aW5kb3cudWU9VUUuZ2V0RWRpdG9yKCdlZGl0b3InLHtcclxuICAgICAgICAnaW5pdGlhbEZyYW1lSGVpZ2h0JzogMTAwLFxyXG4gICAgICAgICdzZXJ2ZXJVcmwnOiAnL3VlZGl0b3IvdXBsb2FkLydcclxuICAgIH0pO1xyXG59O1xyXG5cclxuVGVhY2hlci5wcm90b3R5cGUubGlzZW50UW5sb2FkZmlsZUVudmVudD1mdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGY9dGhpcztcclxuICAgIHZhciBsb2FkZmlsZUJ0bj0kKCcjYXZhdGFyLWJ0bicpO1xyXG4gICAgbG9hZGZpbGVCdG4uY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlsZT10aGlzLmZpbGVzWzBdO1xyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6Jy9jbXMvcW50b2tlbi8nLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ109PT0yMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdFsnZGF0YSddWyd0b2tlbiddO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGEuYi5qcGcgPSBbJ2EnLCdiJywnanBnJ11cclxuICAgICAgICAgICAgICAgICAgICAvLyAxOTg4ODg4ODggKyAuICsganBnID0gMTk4ODg4OC5qcGdcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSArICcuJyArIGZpbGUubmFtZS5zcGxpdCgnLicpWy0xXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHV0RXh0cmEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuYW1lOiBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczp7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6IFsnaW1hZ2UvcG5nJywnaW1hZ2UvanBlZycsJ2ltYWdlL2dpZicsJ3ZpZGVvL3gtbXMtd212J11cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNkbkRvbWFpbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlDb3VudDogNixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiBxaW5pdS5yZWdpb24uejJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gcWluaXUudXBsb2FkKGZpbGUsa2V5LHRva2VuLHB1dEV4dHJhLGNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dCc6IHNlbGYuaGFuZGxlRmlsZVVwbG9hZFByb2dyZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InOiBzZWxmLmhhbmRsZUZpbGVVcGxvYWRFcnJvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbXBsZXRlJzogc2VsZi5oYW5kbGVGaWxlVXBsb2FkQ29tcGxldGVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuXHJcblRlYWNoZXIucHJvdG90eXBlLmhhbmRsZUZpbGVVcGxvYWRQcm9ncmVzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgdmFyIHRvdGFsID0gcmVzcG9uc2UudG90YWw7XHJcbiAgICB2YXIgcGVyY2VudCA9IHRvdGFsLnBlcmNlbnQ7XHJcbiAgICB2YXIgcGVyY2VudFRleHQgPSBwZXJjZW50LnRvRml4ZWQoMCkrJyUnO1xyXG4gICAgLy8gMjQuMDkwOe+8jDg5LjAwMC4uLi5cclxuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gVGVhY2hlci5wcm9ncmVzc0dyb3VwO1xyXG4gICAgcHJvZ3Jlc3NHcm91cC5zaG93KCk7XHJcbiAgICB2YXIgcHJvZ3Jlc3NCYXIgPSAkKFwiLnByb2dyZXNzLWJhclwiKTtcclxuICAgIHByb2dyZXNzQmFyLmNzcyh7XCJ3aWR0aFwiOnBlcmNlbnRUZXh0fSk7XHJcbiAgICBwcm9ncmVzc0Jhci50ZXh0KHBlcmNlbnRUZXh0KTtcclxuXHJcbn07XHJcblxyXG5UZWFjaGVyLnByb3RvdHlwZS5oYW5kbGVGaWxlVXBsb2FkRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gJChcIiNwcm9ncmVzcy1ncm91cFwiKTtcclxuICAgIHByb2dyZXNzR3JvdXAuaGlkZSgpO1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XHJcbn07XHJcblxyXG5UZWFjaGVyLnByb3RvdHlwZS5oYW5kbGVGaWxlVXBsb2FkQ29tcGxldGUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gJChcIiNwcm9ncmVzcy1ncm91cFwiKTtcclxuICAgIHByb2dyZXNzR3JvdXAuaGlkZSgpO1xyXG5cclxuICAgIHZhciBkb21haW4gPSAnaHR0cDovL3BvYXFyM3FndC5ia3QuY2xvdWRkbi5jb20vJztcclxuICAgIHZhciBmaWxlbmFtZSA9IHJlc3BvbnNlLmtleTtcclxuICAgIHZhciB1cmwgPSBkb21haW4gKyBmaWxlbmFtZTtcclxuICAgIHZhciB0aHVtYm5haWxJbnB1dCA9ICQoXCJpbnB1dFtuYW1lPSd0ZWFjaGVyLWF2YXRhciddXCIpO1xyXG4gICAgdGh1bWJuYWlsSW5wdXQudmFsKHVybCk7XHJcbn07XHJcblxyXG5cclxuVGVhY2hlci5wcm90b3R5cGUubGlzZW50U3VibWl0PWZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc3VibWl0QnRuPSQoJyNzdWJtaXQtYnRuJyk7XHJcbiAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgbmFtZT0kKFwiaW5wdXRbbmFtZT0ndGVhY2hlci11c2VybmFtZSddXCIpIC52YWwoKTtcclxuICAgICAgICB2YXIgYXZhdGFyPSQoXCJpbnB1dFtuYW1lPSd0ZWFjaGVyLWF2YXRhciddXCIpIC52YWwoKTtcclxuICAgICAgICB2YXIgam9iPSQoXCJpbnB1dFtuYW1lPSdqb2J0aXRsZSddXCIpIC52YWwoKTtcclxuICAgICAgICB2YXIgY29udGVudD13aW5kb3cudWUuZ2V0Q29udGVudCgpO1xyXG5cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzonL2Ntcy9hZGRjb3Vyc2VfdGVhY2hlci8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6e1xyXG4gICAgICAgICAgICAgICAgJ3VzZXJuYW1lJzpuYW1lLFxyXG4gICAgICAgICAgICAgICAgJ2F2YXRhcic6YXZhdGFyLFxyXG4gICAgICAgICAgICAgICAgJ2pvYnRpdGxlJzpqb2IsXHJcbiAgICAgICAgICAgICAgICAncHJvZmlsZSc6Y29udGVudFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ109PT0yMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2Vzcygn5re75Yqg6K6y5biI5oiQ5Yqf77yBJyxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbj13aW5kb3cubG9jYXRpb24uaHJlZjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgKVxyXG59O1xyXG5cclxuXHJcblRlYWNoZXIucHJvdG90eXBlLnJ1bj1mdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHNlbGY9dGhpcztcclxuICBzZWxmLmluaXRVRWRpdG9yKCk7XHJcbiAgc2VsZi5saXNlbnRRbmxvYWRmaWxlRW52ZW50KCk7XHJcbiAgc2VsZi5saXNlbnRTdWJtaXQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRlYWNoZXI9bmV3IFRlYWNoZXIoKTtcclxuICAgIHRlYWNoZXIucnVuKCk7XHJcbiAgICBUZWFjaGVyLnByb2dyZXNzR3JvdXAgPSAkKCcjcHJvZ3Jlc3MtZ3JvdXAnKTtcclxufSk7Il19
