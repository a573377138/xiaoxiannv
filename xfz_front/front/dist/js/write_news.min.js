function News(){}News.prototype.listenUploadFileEvent=function(){var a=$("#upload-btn");a.change(function(){var e=a[0].files[0],n=new FormData;n.append("file",e),xfzajax.post({url:"/cms/upload_file/",data:n,processData:!1,contentType:!1,success:function(e){if(200===e.code){var n=e.data.url;$("#thumbnail-form").val(n)}}})})},News.prototype.listenQnUploadFileEvent=function(){var i=this;$("#upload-btn").change(function(){xfzajax.get({url:"/cms/qntoken/",success:function(e){if(200===e.code){var n=e.data.token,a=(new Date).getTime()+"."+file.name.split(".")[1],o={fname:a,params:{},mimeType:["image/png","image/jpeg","image/gif","video/x-ms-wmv"]},t={useCdnDomain:!0,retryCount:6,region:xiao_xiannv.region.z2};qiniu.upload(file,a,n,o,t).subscribe({next:i.handleFileUploadProgress,error:i.handleFileUploadError,complete:i.handleFileUploadComplete})}}})})},News.prototype.run=function(){this.listenQnUploadFileEvent()},$(function(){(new News).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndyaXRlX25ld3MuanMiXSwibmFtZXMiOlsiTmV3cyIsInByb3RvdHlwZSIsImxpc3RlblVwbG9hZEZpbGVFdmVudCIsInVwbG9hZEJ0biIsIiQiLCJjaGFuZ2UiLCJmaWxlIiwiZmlsZXMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwieGZ6YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwicHJvY2Vzc0RhdGEiLCJjb250ZW50VHlwZSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ2YWwiLCJsaXN0ZW5RblVwbG9hZEZpbGVFdmVudCIsInNlbGYiLCJ0aGlzIiwiZ2V0IiwidG9rZW4iLCJrZXkiLCJEYXRlIiwiZ2V0VGltZSIsIm5hbWUiLCJzcGxpdCIsInB1dEV4dHJhIiwiZm5hbWUiLCJwYXJhbXMiLCJtaW1lVHlwZSIsImNvbmZpZyIsInVzZUNkbkRvbWFpbiIsInJldHJ5Q291bnQiLCJyZWdpb24iLCJ4aWFvX3hpYW5udiIsInoyIiwicWluaXUiLCJ1cGxvYWQiLCJzdWJzY3JpYmUiLCJuZXh0IiwiaGFuZGxlRmlsZVVwbG9hZFByb2dyZXNzIiwiZXJyb3IiLCJoYW5kbGVGaWxlVXBsb2FkRXJyb3IiLCJjb21wbGV0ZSIsImhhbmRsZUZpbGVVcGxvYWRDb21wbGV0ZSIsInJ1biJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsUUFNVEEsS0FBS0MsVUFBVUMsc0JBQXNCLFdBQ2pDLElBQUlDLEVBQVVDLEVBQUUsZUFDaEJELEVBQVVFLE9BQU8sV0FDZCxJQUFJQyxFQUFLSCxFQUFVLEdBQUdJLE1BQU0sR0FDeEJDLEVBQVMsSUFBSUMsU0FDakJELEVBQVNFLE9BQU8sT0FBT0osR0FDdkJLLFFBQVFDLEtBQUssQ0FDVEMsSUFBTSxvQkFDTkMsS0FBT04sRUFDUE8sYUFBYyxFQUNkQyxhQUFjLEVBQ2RDLFFBQVUsU0FBVUMsR0FDaEIsR0FBb0IsTUFBakJBLEVBQWEsS0FBUSxDQUNyQixJQUFJTCxFQUFJSyxFQUFhLEtBQU8sSUFDVGQsRUFBRSxtQkFDTmUsSUFBSU4sVUFTckNiLEtBQUtDLFVBQVVtQix3QkFBd0IsV0FDbkMsSUFBSUMsRUFBS0MsS0FDS2xCLEVBQUUsZUFDTkMsT0FBTyxXQUNiTSxRQUFRWSxJQUFJLENBQ1JWLElBQU0sZ0JBQ05JLFFBQVUsU0FBVUMsR0FDaEIsR0FBb0IsTUFBakJBLEVBQWEsS0FBUSxDQUNwQixJQUFJTSxFQUFNTixFQUFhLEtBQVMsTUFDNUJPLEdBQU0sSUFBS0MsTUFBUUMsVUFBWSxJQUFNckIsS0FBS3NCLEtBQUtDLE1BQU0sS0FBSyxHQUMxREMsRUFBVyxDQUNYQyxNQUFPTixFQUNQTyxPQUFPLEdBQ1BDLFNBQVUsQ0FBQyxZQUFZLGFBQWEsWUFBWSxtQkFFaERDLEVBQVMsQ0FDVEMsY0FBYyxFQUNkQyxXQUFZLEVBQ1pDLE9BQVFDLFlBQVlELE9BQU9FLElBRWRDLE1BQU1DLE9BQU9uQyxLQUFLbUIsRUFBSUQsRUFBTU0sRUFBU0ksR0FDM0NRLFVBQVUsQ0FDakJDLEtBQVF0QixFQUFLdUIseUJBQ2JDLE1BQVN4QixFQUFLeUIsc0JBQ2RDLFNBQVkxQixFQUFLMkIsa0NBVXpDaEQsS0FBS0MsVUFBVWdELElBQUssV0FDUDNCLEtBRUpGLDJCQUlUaEIsRUFBRSxZQUNVLElBQUlKLE1BQ1JpRCIsImZpbGUiOiJ3cml0ZV9uZXdzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIE5ld3MoKSB7XHJcblxyXG59XHJcblxyXG5cclxuXHJcbk5ld3MucHJvdG90eXBlLmxpc3RlblVwbG9hZEZpbGVFdmVudD1mdW5jdGlvbigpe1xyXG4gICAgdmFyIHVwbG9hZEJ0bj0kKCcjdXBsb2FkLWJ0bicpO1xyXG4gICAgdXBsb2FkQnRuLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICB2YXIgZmlsZT11cGxvYWRCdG5bMF0uZmlsZXNbMF07XHJcbiAgICAgICB2YXIgZm9ybURhdGE9bmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLGZpbGUpO1xyXG4gICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAndXJsJzonL2Ntcy91cGxvYWRfZmlsZS8nLFxyXG4gICAgICAgICAgICdkYXRhJzpmb3JtRGF0YSxcclxuICAgICAgICAgICAncHJvY2Vzc0RhdGEnOmZhbHNlLFxyXG4gICAgICAgICAgICdjb250ZW50VHlwZSc6ZmFsc2UsXHJcbiAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ109PT0yMDApe1xyXG4gICAgICAgICAgICAgICAgICB2YXIgdXJsPXJlc3VsdFsnZGF0YSddWyd1cmwnXTtcclxuICAgICAgICAgICAgICAgICAgdmFyIHRodW1ibmFpbElucHV0PSQoJyN0aHVtYm5haWwtZm9ybScpO1xyXG4gICAgICAgICAgICAgICAgICB0aHVtYm5haWxJbnB1dC52YWwodXJsKTtcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH1cclxuXHJcbiAgICAgICB9KVxyXG4gICAgfSk7XHJcblxyXG59O1xyXG5cclxuTmV3cy5wcm90b3R5cGUubGlzdGVuUW5VcGxvYWRGaWxlRXZlbnQ9ZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmPXRoaXM7XHJcbiAgICB2YXIgdXBsb2FkQnRuPSQoJyN1cGxvYWQtYnRuJyk7XHJcbiAgICB1cGxvYWRCdG4uY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOicvY21zL3FudG9rZW4vJyxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddPT09MjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW49cmVzdWx0WydkYXRhJ11bJ3Rva2VuJ107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgKyAnLicgKyBmaWxlLm5hbWUuc3BsaXQoJy4nKVsxXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHV0RXh0cmEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuYW1lOiBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczp7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6IFsnaW1hZ2UvcG5nJywnaW1hZ2UvanBlZycsJ2ltYWdlL2dpZicsJ3ZpZGVvL3gtbXMtd212J11cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNkbkRvbWFpbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlDb3VudDogNixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiB4aWFvX3hpYW5udi5yZWdpb24uejJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gcWluaXUudXBsb2FkKGZpbGUsa2V5LHRva2VuLHB1dEV4dHJhLGNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dCc6IHNlbGYuaGFuZGxlRmlsZVVwbG9hZFByb2dyZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InOiBzZWxmLmhhbmRsZUZpbGVVcGxvYWRFcnJvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbXBsZXRlJzogc2VsZi5oYW5kbGVGaWxlVXBsb2FkQ29tcGxldGVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuXHJcbn07XHJcblxyXG5OZXdzLnByb3RvdHlwZS5ydW49IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZj10aGlzO1xyXG4gICAgLy8gc2VsZi5saXN0ZW5VcGxvYWRGaWxlRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuUW5VcGxvYWRGaWxlRXZlbnQoKTtcclxufTtcclxuXHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgdmFyIG5ld3M9bmV3IE5ld3MoKTtcclxuICAgbmV3cy5ydW4oKTtcclxufSk7Il19
